<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="10075c44-ba0c-4005-a73b-75ed5277edbe" activeEnvironment="Default" name="REST Project 3Automation" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="cbc45be1-7ef8-4a92-b4ba-21428fb76fd9" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://216.10.245.166" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://216.10.245.166</con:endpoint></con:endpoints><con:resource name="Addbook.php" path="/Library/Addbook.php" id="e7d7d837-eb59-46e3-a49e-58407f9e1af2"><con:settings/><con:parameters/><con:method name="Method 1" id="161668ff-85fb-4bc6-860e-36c59519d8c7" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:add="http://216.10.245.166/Library/Addbook.php">add:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:add="http://216.10.245.166/Library/Addbook.php">add:Response</con:element></con:representation><con:request name="Request 1" id="21e9d102-1ec6-437e-86f2-89b59befcfcf" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://216.10.245.166</con:endpoint><con:request>{
"name":"Learn Appium Automation with Java",
"isbn":"ggbhhcd",
"aisle":"227",
"author":"John foe"
}
</con:request><con:originalUri>http://216.10.245.166/Library/Addbook.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="GetBook.php" path="/Library/GetBook.php" id="3f851ee0-6ab2-4d40-b62f-23d8fa5a62c3"><con:settings/><con:parameters><con:parameter><con:name>AuthorName</con:name><con:value>book1</con:value><con:style>QUERY</con:style><con:default>book1</con:default></con:parameter></con:parameters><con:method name="Method 1" id="fa8bd893-7f71-4c59-a535-5be0082ef5cf" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:get="http://216.10.245.166/Library/GetBook.php">get:Fault</con:element></con:representation><con:request name="Request 1" id="eb87cbed-0eb1-4b81-a742-02b5a56ae501" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://216.10.245.166</con:endpoint><con:request/><con:originalUri>http://216.10.245.166/Library/GetBook.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="GetBookID.php" path="/Library/GetBook.php" id="9874e05f-817e-4bde-b41f-7aa684fb5ee7"><con:settings/><con:parameters><con:parameter><con:name>ID</con:name><con:value>3389</con:value><con:style>QUERY</con:style><con:default>3389</con:default></con:parameter></con:parameters><con:method name="Method 1" id="ac4a1341-de0c-47df-bba9-e3252c1c193a" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:get="http://216.10.245.166/Library/GetBook.php">get:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="b8b0f105-2edb-4bf0-ba00-f2fcc0f44e9d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://216.10.245.166</con:endpoint><con:request/><con:originalUri>http://216.10.245.166/Library/GetBook.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="ID" value="ggbhhcd227" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="DeleteBook.php" path="/Library/DeleteBook.php" id="09b26fbc-a118-4ba4-b1ed-e797db9f92d5"><con:settings/><con:parameters/><con:method name="Method 1" id="20986339-a4a3-4944-8134-f56286aefe57" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:del="http://216.10.245.166/Library/DeleteBook.php">del:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:del="http://216.10.245.166/Library/DeleteBook.php">del:Fault</con:element></con:representation><con:request name="Request 1" id="dcbd8f96-628e-4133-901d-72d43b1bdf68" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://216.10.245.166</con:endpoint><con:request>{
 
"ID" : "ggbhhcd227"
 
} 
</con:request><con:originalUri>http://216.10.245.166/Library/DeleteBook.php</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="271f74cb-a52a-4043-9270-060014f16ab9" name="AutomationTestSuite"><con:description>TestSuite generated for REST Service [http://216.10.245.166]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="2908ae3d-20a0-4730-b0b3-98109212b47e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddbookTestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [Addbook.php] located at [/Library/Addbook.php]</con:description><con:settings/><con:testStep type="restrequest" name="postBook" id="8dc06a40-9e50-4276-9ee5-da71e2d4b84c"><con:settings/><con:config service="http://216.10.245.166" resourcePath="/Library/Addbook.php" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="postBook" id="21e9d102-1ec6-437e-86f2-89b59befcfcf" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#URL}</con:endpoint><con:request>{"aisle":"456","author":"John foe","isbn":"911208","name":"java1"}</con:request><con:originalUri>http://216.10.245.166/Library/Addbook.php</con:originalUri><con:assertion type="JsonPath Existence Match" id="7e51ab84-af3e-4880-bfeb-8baf229bd331" name="JsonPath Existence Match"><con:configuration><path>Msg</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b3e383ee-714a-4ebb-ad58-8552e8a4aa83" name="Msg"><con:configuration><path>Msg</path><content>successfully added</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Response SLA Assertion" id="2aa424bc-da0c-4250-9ea7-44c8c8df97c0" name="Response SLA"><con:configuration><SLA>6000</SLA></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer for BookID" id="d1fc99c5-a00c-402b-bb7a-5392d085c535"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>ID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>postBook</con:sourceStep><con:sourcePath>ID</con:sourcePath><con:targetType>bookID</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="getBook" id="e4b1ba8a-a102-4263-8026-ffb27e58ef30"><con:settings/><con:config service="http://216.10.245.166" resourcePath="/Library/GetBook.php" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getBook" id="eb87cbed-0eb1-4b81-a742-02b5a56ae501" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#URL}</con:endpoint><con:request/><con:originalUri>http://216.10.245.166/Library/GetBook.php</con:originalUri><con:assertion type="GroovyScriptAssertion" id="ea7a3101-bb61-49b7-861e-ad19d0fe4e4e" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper
import com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext

def response= messageExchange.response.responseContent
def jsonsl= new JsonSlurper().parseText(response)
def expactedValue = context.getTestCase().getPropertyValue('id')

boolean flag;

for(int i= 0; i&lt;1800; i++)
{
	//log.info jsonsl.isbn[i]
	if(jsonsl.isbn[i]== expactedValue)
	{
		flag = true;
	}
}
assert true == flag</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="AuthorName" value="John foe" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getBookID" id="600874e1-6873-4370-a87b-7453071af7f5"><con:settings/><con:config service="http://216.10.245.166" resourcePath="/Library/GetBook.php" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getBookID" id="b8b0f105-2edb-4bf0-ba00-f2fcc0f44e9d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#URL}</con:endpoint><con:request/><con:originalUri>http://216.10.245.166/Library/GetBook.php</con:originalUri><con:assertion type="Simple Contains" id="6e3bcbb6-5643-4a56-bb93-32a0936e41cf" name="Contains" disabled="true"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="b501119d-373f-425e-9cf5-314a774774eb" name="JsonPath RegEx Match" disabled="true"><con:configuration/></con:assertion><con:assertion type="JsonPath Match" id="24662a7d-7bc4-4da6-ad63-54eab5b3291f" name="JsonPath Match"><con:configuration><path>msg</path><content>The book by requested bookid / author name does not exists!@</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="AuthorName" value="gb5h151hcd11xb227"/>
  <con:entry key="ID" value="${#TestSuite#bookID}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DeleteBook" id="ac40a8a0-3f4a-4b11-be73-ddfc8d547f86"><con:settings/><con:config service="http://216.10.245.166" resourcePath="/Library/DeleteBook.php" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteBook" id="dcbd8f96-628e-4133-901d-72d43b1bdf68" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#TestSuite#URL}</con:endpoint><con:request>{
 
"ID" : "${#TestSuite#bookID}"
 
} 
</con:request><con:originalUri>http://216.10.245.166/Library/DeleteBook.php</con:originalUri><con:assertion type="JsonPath Match" id="9e53d49a-25f2-4f17-8135-90094fa1e84b" name="JsonPath Match"><con:configuration><path>msg</path><content>book is successfully deleted</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>id</con:name><con:value>9898w9</con:value></con:property></con:properties></con:testCase><con:testCase id="190ca8ca-01a0-4f29-92f3-e2467445b1ba" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GroovyScripts" searchProperties="true"><con:settings/><con:testStep type="groovy" name="Groovy Script" id="aa151409-8942-4ca3-bc2b-9ab2d39959e8"><con:settings/><con:config><script>import groovy.json.JsonSlurper
import groovy.json.*
import com.eviware.soapui.impl.wsdl.testcase.WsdlTestRunContext

def postBookREQUEST = testRunner.testCase.testSuite.testCases["AddbookTestCase"].testSteps["postBook"].getPropertyValue('Request')
def jsonData = new JsonSlurper().parseText(postBookREQUEST)
log.info jsonData
log.info jsonData.name

//assign JSON Data
jsonData.name = 'java1'
jsonData.isbn= '1911208'
jsonData.aisle= '456'
def jsonReqAsString = JsonOutput.toJson(jsonData)
log.info jsonReqAsString

//To SAVE JSON data
def restRequest = testRunner.testCase.testSuite.testCases["AddbookTestCase"].testSteps["postBook"].getPropertyValue('Request');
testRunner.testCase.testSuite.testCases["AddbookTestCase"].testSteps["postBook"].setPropertyValue('Request',jsonReqAsString);
def postBookREQUEST1= testRunner.testCase.testSuite.testCases["AddbookTestCase"].testSteps["postBook"].getPropertyValue('Request');

//To run
def postBook= testRunner.testCase.testSuite.testCases["AddbookTestCase"].testSteps["postBook"]
def contextData = new WsdlTestRunContext(postBook)
postBook.run(testRunner, contextData)
//Validation
def reponseData= testRunner.testCase.testSuite.testCases['AddbookTestCase'].testSteps["postBook"].getPropertyValue('Response')
def jsonResponse = new JsonSlurper().parseText(reponseData)
def message = jsonResponse.Msg
log.info message
log.info jsonResponse.ID
assert jsonResponse.ID == "1234567890"

</script></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>URL</con:name><con:value>http://216.10.245.166</con:value></con:property><con:property><con:name>bookID</con:name><con:value>122003227</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>